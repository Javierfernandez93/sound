<?php define("TO_ROOT", "../../");set_time_limit(0);ini_set("memory_limit","1024M");header("Content-Type: application/json");header("Access-Control-Allow-Origin: *");header("Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept");if($_SERVER['REQUEST_METHOD'] == 'POST' && empty($_POST)) $_POST = json_decode(file_get_contents('php://input'), true);require_once TO_ROOT . "system/core.php";$data = HCStudio\Util::getVarFromPGS(); #actionif(!ob_start("ob_gzhandler")){	ob_start();	$data['gzip'] = false;} else $data['gzip'] = true;$UserLogin = new Welcome\UserLogin;if($UserLogin->_loaded){	if($data['music_id'])	{		$Music = new Welcome\Music;		if($Music->cargarDonde('music_id = ?',$data['music_id']))		{			$data['html'] = getHtml($Music);			$data['s'] = 1;			$data['r'] = 'DATA_OK';		} else {			$data['s'] = 0;			$data['r'] = 'NOT_MUSIC';		}	} else {		$data['s'] = 0;		$data['r'] = 'NOT_MUSIC_ID';		}} else {	$data['s'] = 0;	$data['r'] = 'NOT_LOADED';}function getHtml($Music = false){	if($Music)	{				$Layout = JFStudio\Layout::getInstance();		$Layout->init("","play-music","clean",TO_ROOT.'apps/applications/',TO_ROOT."/");		$Layout->setVar("Music",$Music);		return $Layout->_get_html();	}} echo json_encode($data); ?>